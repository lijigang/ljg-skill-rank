# ljg-skill-rank

降秩引擎 — 一个 Claude Code Skill，对任意领域执行"降秩"操作，找到不可再分的独立生成器。

## 什么是"秩"

秩不是"关键要素"，不是"核心原则"，不是"总结要点"。

秩是严格的：**这个领域里，真正独立的生成器有几个？用它们能不能反向生成全部现象？** 能，才算找到了秩。

**降秩是一个推理故事。** 开头是混沌——一堆看似不相关的现象。过程是侦探推理——"等等，这两个东西居然是同一个力在驱动？"维度被一刀刀砍掉。结局是极简——当秩浮出水面，"就这？就这！"

## v2 更新（基于 45+ 次实战降秩）

v2 基于对 45+ 个领域的实战降秩经验进行了重大更新：

### 约束层加固
- **约束必须标注 "→ 消去 Dx"**：显式标注每一刀消去的维度，防止重复消去和链依赖
- **约束排序规则**：先消去被引用最少的维度，避免前向引用冲突
- **约束硬度分级**：物理常数/基因型 > 生化定律 > 强统计相关 > 弱相关
- **外生变量排除**：不可控变量不进维度空间

### 特殊系统处理
- **环路检测**（Step 2.5）：正反馈环系统先识别环路，再判断环内变量独立性
- **子空间降秩**：指定条件后需重新从维度层开始，不能直接减生成器

### 输出增强
- **干预映射**（可选）：将生成器映射到具体可操作的干预手段
- **结构同构**（可选）：标注与已知领域的拓扑相似性
- **v2 重构触发条件**：明确什么时候需要推倒重来
- **Markdown/org 双格式支持**

### 新增拓扑类型
- **三角耦合**：三个生成器两两耦合但各自独立可调
- **梯度系统**：生成器按硬度分层，硬锚数量决定稳定性

## 功能

- 从现象出发（不从定义出发），铺开 10-15 个活的典型现象
- 提取描述维度，发现维度间的硬约束——每一刀都是一个叙事转折
- 环路检测：正反馈环系统预处理，折叠环内传导变量
- 降维到不可再分的独立生成器（秩 = 维度 - 约束）
- 三关验证：回检 + 盲区预测 + 反事实推演 + 正交操作
- 画 ASCII 接线图：因果方向、反馈环路、瓶颈、破局点
- 反事实思想实验：逐个"关掉"生成器，描绘那个残缺世界
- 干预映射：生成器 → 可操作的干预杠杆
- 结构同构：跨域拓扑相似性标注
- 自动更新 `concepts.org` 概念索引（按拓扑类型分组）
- 输出结构化文件，含验证附录

## 安装

```bash
/install-skill https://github.com/lijigang/ljg-skill-rank
```

## 使用

```
/ljg-rank 经济学
/ljg-rank 烹饪
降秩：投资
找秩：写作
{领域}的秩是什么？
```

## 输出结构

```
* {领域}
* 案发现场          ← 10-15 个活的现象，蒙太奇节奏
* 降秩：从 N 到 R   ← 每一刀一个发现，节奏轮换
** {发现1}           约束显式标注 → 消去 Dx
** {发现2}
** 压缩全景
* 秩 = R            ← 独立生成器，大白话
* 接线图            ← ASCII 拓扑 + 系统性格
** 关掉 G1          ← 反事实思想实验
** 关掉 G2
* 干预映射          ← 生成器 → 干预杠杆（可选）
* 结构同构          ← 跨域拓扑相似性（可选）
* 一句话            ← 有比喻冲击力的压缩
** 彩蛋             ← 盲区预测中最意外的一个
* :PROOF:           ← 折叠附录：回检表 + 盲区预测 + 正交
```

## 质量红线

- 约束要硬——"好像有关系"不算，能说清"知道 A 推出 B"才算
- **约束必须标注 "→ 消去 Dx"**——不标注 = 不算完成
- 三关验证不能跳——回检、盲区预测、反事实、正交，全过才立住
- 失败必须回退——任何一关失败，回去重走，不打补丁
- 秩宜少不宜多——超过 5 大概率约束没找够
- 节奏要轮换——连续两刀用同一种叙事节奏 = 失败
- v2 重构触发——重复消去 / 数学不平 / 链依赖 / 生成验证失败 → 推倒重来

## 实战验证

已在 45+ 个领域完成降秩验证，覆盖：

| 类别 | 领域示例 | 典型 rank |
|------|----------|-----------|
| 健康 | 睡眠优化、HRV、MTHFR、PCOS、鼻炎、干眼症 | 3-6 |
| 投资 | BTC、ETH、二级市场、财富保全 | 3-5 |
| 认知 | 学习、注意力管理、无聊 | 3-5 |
| 关系 | 亲密关系、育儿、谈判沟通 | 4-5 |
| 工程 | 芯片物理限制、创业治理 | 3 |
| 存在 | 生命、幸福 | 3 |

## 设计原则

- 基于"理解即降秩"的完整回路
- 从现象出发 → 维度（外赋）→ 秩（内禀）→ 结构（耦合拓扑）→ 反向生成验证
- 降秩是推理小说，不是报告——读者要被吸引其中，层层揭开迷雾
- 秩只是数量，接线图才是结构——再生能力住在接线图里
- 约束是降秩的核心——约束层的严格性决定秩的可靠性

## License

MIT
