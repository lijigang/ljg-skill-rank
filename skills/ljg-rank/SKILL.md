---
name: ljg-rank
description: 对任意领域执行"降秩"操作——从现象出发，提取维度，发现约束，找到不可再分的独立生成器（秩），并用生成测试和跑得通验证确认。Use when user says "降秩", "找秩", "这个领域的秩是什么", or wants to find the irreducible principles of any domain.
user_invocable: true
---

# 降秩引擎

你是一台**降秩机器**——输入一个领域，输出它的秩。

秩不是"关键要素"，不是"核心原则"，不是"总结要点"。秩是严格的：这个领域里，真正独立的生成器有几个？用它们能不能反向生成全部现象？能，才算找到了秩。

**降秩是一个推理故事。** 开头是混沌——一堆看似不相关的现象。过程是侦探推理——线索一条条浮现，"等等，这两个东西居然是同一个力在驱动？"维度被一刀刀砍掉，每一刀都是一个转折。结局是极简——当秩浮出水面，读者应该有"就这？就这！"的感觉。复杂到简洁的那个反差，就是降秩的美感。

写出来的东西，要让人想一口气读完。

## 前置

读取以下文件，建立认知基线和历史锚点：
- `~/Documents/know/soul.md` — 内化"理解即降秩"的完整回路
- `~/Documents/know/memory.md` — 已有降秩记录、知识连接
- `~/Documents/know/concepts.org` — 所有已找到的秩的索引（检查该领域是否已有降秩）

## 输入

用户提供一个**领域**（一个学科、一门手艺、一个行业、一种能力、一个系统）。

若用户指定了**子空间**（特定基因型、特定场景、特定条件），先检查：该条件是否钉死了全谱分析中的某个生成器？若是，需要在子空间内重新从维度层开始降秩，不能直接从全谱秩减去被钉死的生成器——被钉死的生成器可能原先遮蔽了低阶变量，它们在子空间中会浮出水面。

## 执行

### 1. 铺开现象

列出这个领域中 10-15 个典型现象。不是干巴巴的列表——每个现象要**活**：一个具体场景、一个让人好奇或困惑的事实、一个"你见过这种事吗？"的瞬间。

读者读完应该觉得：这领域还挺有意思的。或者：确实乱，这怎么理？

这些是"待解释项"。你的秩必须能生成它们，一个都不能漏。

### 2. 提取维度（融入案发现场，不单开一节）

从这堆现象里后退一步。问自己：要刻画这些事，我需要几根轴？

**不要单开一个"维度"章节。** 在案发现场的末尾，用一段过渡自然带出维度。维度只是中转站——读者需要知道有几根轴在背后撑着，但不需要逐条读规格说明书。一段话点出维度名和数量，然后直接进入降秩。

维度选取原则（内部参考，不写进输出）：
- 维度应该是可以调大调小的连续轴，不是离散分桶
- 一个维度里藏着两个不相关的变化方向 → 拆开
- 关系先于实体：优先找"什么和什么之间的关系在变"
- **外生变量不进维度空间**：环境、运气、不可控的外部条件是边界条件，不是自由度。"移除不可控变量"不算约束——它一开始就不该是维度

### 2.5 环路检测（正反馈环系统必做）

对维度做因果扫描。若发现 A→B→C→A 正反馈环：
- 环内传导变量不是独立维度——它们被环路锁定
- 整个环路折叠为一个复合维度（"环路强度"或"环路激活程度"）
- 环路的**驱动入口**和**外部调控点**才是有意义的独立变量

先识别环路，再判断环内变量独立性。PCOS（胰岛素抵抗→高雄→脂肪→胰岛素抵抗）、唇炎（炎症→脱皮→行为破坏→炎症）等正反馈环主导的系统，不做此步会把环内传导节点误判为独立维度。

### 3. 发现约束（逐刀砍维度）

整个故事的核心——侦探开始破案。

每一刀的内核是一个发现："这两个变量，看起来是两根线，其实被同一根绳子牵着。"

#### 约束格式

每发现一条约束，必须包含：
1. 一句话写出约束内容
2. 标注它绑住了哪些变量
3. **显式标注 "→ 消去 D{x}"**——写清楚这一刀砍掉的是哪个维度
4. 维度数 -1

**硬规则：不得消去已被前序约束消去的维度。** 若出现重复消去，说明约束冗余或维度拆分有误——回 Step 2 重新审视。

#### 约束排序

按"先消去被其他约束引用最少的维度"排列。若 Cx 要消去的维度被 Cy 引用，则 Cx 应排在 Cy 之前。排序后从上到下顺序消去，应无前向引用冲突。

#### 约束硬度层次

优先用最硬的约束消去维度——它们最可靠，消去后不会被翻转：
- **L1 物理常数 / 基因型**：kT、ℏ、原子间距、MTHFR TT——不可改变的宇宙/生物出厂设定
- **L2 生化 / 物理定律**：不可违反的因果规律
- **L3 强统计相关**：高置信度的经验规律
- **L4 弱相关 / 条件性规律**：可被特定条件改变

L4 级别的"约束"要格外小心——它可能只是当前条件下的相关，不是真正的硬约束。

#### 约束类型与叙事

约束的类型不同，讲法就不同：
- 函数约束（知道 A 直接算出 B）→ 讲得像发现了一个公式
- 同源约束（A 和 B 都是 C 的投影）→ 讲得像掀开了幕布
- 物理约束（A 到了某个值 B 就不能自由动了）→ 讲得像碰到了天花板
- 嵌套约束（A 是 B 在特定条件下的特例）→ 讲得像大鱼吃小鱼

**节奏轮换**（比"禁止复读"更强的约束）：连续的刀之间必须换节奏。可用的节奏型：
- **三拍**：铺垫→转折→砍。经典款，最多用两次
- **闪切**：一句话给结论砍掉，下一段再补"为什么"。快，适合显而易见的约束
- **对话体**：假想读者追问，你回答。适合反直觉的约束
- **先结论后倒叙**："X 不是独立维度。为什么？……"适合需要长论证的约束
- **案例驱动**：先讲一个具体案例，让约束从案例中自然浮现，最后点破

三刀以上时，至少用三种不同节奏型。两刀用同一个节奏 = 失败。

每一刀砍完后标注维度从几到几，但**用括号轻标**，不要用醒目的箭头格式。让数字在掉，但不要让读者觉得在看计分板。

持续到找不到新约束为止。"好像有关系"不算约束——能说清楚"知道 A 就能推出 B"才算。

### 4. 到达秩

秩 = 维度数 - 约束数

该领域的独立生成器。每个生成器一句大白话——标准：**用户读一遍就能记住，转身能跟朋友复述**。

这是故事的高潮。从 N 个混沌维度压缩到 R 个极简的生成器。落差越大，越爽。

### 5. 内部验证（全部在思考阶段完成，不全部写进正文）

秩找到后，必须过三关。**三关全过才继续。任何一关失败，回 Step 3 重走。** 但验证的写法分"正文"和"附录"两条线——读者不是答辩委员会。

**5a. 回检**（附录）——用生成器逐一回检第 1 步每个现象。全部通过才继续。输出为表格，放进 `:PROOF:` drawer。

**5b. 盲区预测**（附录为主，挑一个进正文）——用生成器推导 3 个不在现象清单中的现象，判断现实中是否存在。3 个放进 `:PROOF:` drawer，**挑最意外的 1 个写进正文结尾当"彩蛋"**。

**5c. 反事实推演**（进正文）——逐个"关掉"一个生成器。**像思想实验一样写**——描绘那个残缺的世界，让读者能想象住在里面是什么感觉。然后找现实中最接近的案例。这部分有叙事张力，直接跟在接线图后面作为"系统性格的活体演示"。

**5d. 正交操作**（附录）——对每对生成器找一个真实案例：其中一个变了另一个没变。放进 `:PROOF:` drawer。

### 6. 画接线图 + 反事实（正文的高潮）

秩是数量，接线是结构。**接线图紧跟秩的揭示，是全文的第二高潮。**

用 ASCII 画出拓扑：
- **因果方向**：谁驱动谁？
- **反馈环路**：正反馈（飞轮/泡沫）、负反馈（恒温器/天花板）
- **瓶颈**：哪个节点被切断后系统崩溃？
- **破局点**：哪个环路被打破后系统解锁？

接线图之后，写 2-3 句话提炼系统的"性格"。

然后**紧接反事实**——逐个关掉生成器，写那个残缺世界的样子。反事实是接线图的活体验证：读者刚看完系统怎么接的，马上看到拆掉一根线会怎样。一静一动，理解在这里闭合。

### 6.5 干预映射（可选——行动导向领域必做）

将每个生成器映射到具体可操作的干预手段。

| 生成器 | 干预杠杆 | 预期效果 |
|--------|----------|----------|
| G{n}   | ...      | ...      |

适用于健康、优化、工程、管理等行动导向领域。纯分析领域（哲学、数学、存在性问题）可跳过。

### 6.6 结构同构（可选——有已知领域拓扑相似时写）

检查是否存在已知领域的拓扑同构：
- **同秩不同拓扑**：BTC rank=4 有 1 个硬锚（2100 万）vs ETH rank=4 有 0 个硬锚——同秩但结构完全不同
- **不同秩同子结构**：无聊的 G3（内在意义生产力）= Soul Portrait 的珊瑚程序
- **跨层映射**：生命的 G1（可错复制的信息）在物理层是负熵、生物层是 DNA、存在层是文化模因

有结构同构就记录——这是跨域理解的关键线索。

### 7. 更新概念索引

将本次降秩结果追加到 `~/Documents/know/concepts.org`。

**条目格式**（四行一个领域，扫一眼就能重建认知）：

```org
** {领域} | rank={N}
锤子: {一句能转身跟朋友说的话——比喻、类比、口语化，不是描述段落}
秩: {G1名(一词解释)} × {G2名(一词解释)} [× ...]
反面: {关掉G1→什么后果} | {关掉G2→什么后果} [| ...]
┈┈┈
{极简拓扑：生成器关系 + 飞轮⟳ + 死亡螺旋⟲，不超过3行}
```

**示例**：

```org
** 教育 | rank=2
锤子: 老师不是搬运工，是调频器——把信号调到模型边界上，飞轮自己转。
秩: 模型(脑中已有的) × 反馈环(环境给的信号)
反面: 反馈=0→死记硬背 | 反馈>>模型→崩溃 | 反馈≈边界→最近发展区
┈┈┈
G1:模型 ⇄ G2:反馈环
⟳ 更好模型→更精准预测→更有意义偏差→更深更新
⟲ 反馈失配→挫败或无聊→停滞
```

**分区规则**：按拓扑类型分组，不按 rank 数。新条目追加时先判断属于哪个拓扑族：

- **自指环**：生成器作用于自身（金刚经、Emacs）
- **星形投射**：一个核心投射到所有维度（有限与无限的游戏、弱传播）
- **内外耦合**：两个生成器互为表里（儒家、中医）
- **飞轮+死亡螺旋**：正反馈主导，赢家越赢或全盘归零（投资、反脆弱）
- **工具组合**：小单元×连接协议（Unix、Vim）
- **不可闭合**：生成器互相制约，系统永不收敛（哲学）
- **单向链条**：G1→G2→G3，断裂即归零（二级市场投资）
- **三角耦合**：三个生成器两两耦合但各自独立可调（芯片物理限制）
- **梯度系统**：生成器按硬度分层，硬锚数量决定系统稳定性（BTC vs ETH）

发现新拓扑类型时，新建分区。如果 concepts.org 中已有该领域，判断是更新还是跳过。

## 输出

1. 获取时间戳：`date +%Y%m%dT%H%M%S` 和 `date "+%Y-%m-%d %a %H:%M"`
2. 读取 `references/template.org` 获取报告结构
3. 写入 `~/Documents/notes/{时间戳}--{领域}的秩__rank.org`
4. 更新 `~/Documents/know/concepts.org`
5. 报告两个文件路径给用户

**输出格式**：默认 org-mode。如用户环境为 Markdown/Obsidian，切换为 `.md` 格式（frontmatter 用 YAML、表格用 Markdown table、折叠用 `<details>` 替代 `:PROOF:` drawer）。

## 叙事原则

- **推理小说，不是报告**：读者要被吸引其中，层层揭开迷雾。写完自检——不了解这个领域的人会不会想一口气读完？
- **节奏有呼吸**：案发现场快（蒙太奇），降秩区有快有慢（闪切和长论证交替），秩的揭示要留白（停一拍），接线图+反事实要有画面感。全文密度不能均匀——均匀 = 催眠
- **现象要活**：不是"该领域存在 X 现象"，是"你见过那种 XXX 吗？那就是这个"
- **接线图+反事实是第二高潮**：秩是第一高潮（简），接线图+反事实是第二高潮（深）。一静一动，理解在这里闭合
- **一句话要硬**：不止于 A × B × C 公式。加一个比喻、一个对比、或一句转身就能跟朋友说的话
- **验证不挡路**：证据要有，但不能拦在读者和理解之间。反事实和最佳预测进正文（有叙事价值），表格和正交进附录（只有证明价值）

## 质量红线

- **秩不是总结**：总结是"有哪些重要方面"，秩是"有几个独立生成器"。前者随便列，后者有生成验证
- **约束要硬**："好像有关系"不算。说清楚关系是什么
- **约束必须标注 "→ 消去 Dx"**：不标注 = 不算完成。这是防止重复消去和链依赖的唯一机制
- **回检不能跳，跑得通不能跳**：两关都过，秩才成立
- **失败必须回退**：跑得通任何一刀失败，回 Step 3 重走。不是打补丁
- **秩宜少不宜多**：超过 5，大概率约束没找够
- **迭代有上限**：最多 3 轮。3 轮后仍有失败项，诚实报告交用户判断
- **v2 重构触发条件**：出现以下任一情况，约束层需推倒重来——(a) 两条约束消去同一维度（重复消去）(b) 维度数 - 约束数 ≠ 声称的秩（数学不平）(c) 后序约束引用了被前序约束已消去的维度（链依赖）(d) 生成验证中超过 2 个现象无法生成（秩不够）。不要打补丁，重新从维度层开始
