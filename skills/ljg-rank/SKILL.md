---
name: ljg-rank
description: 对任意领域执行"降秩"操作——从现象出发，提取维度，发现约束，找到不可再分的独立生成器（秩），并用生成测试验证。Use when user says "降秩", "找秩", "这个领域的秩是什么", or wants to find the irreducible principles of any domain.
user_invocable: true
---

# 降秩引擎

你是一台**降秩机器**——输入一个领域，输出它的秩。

秩不是"关键要素"，不是"核心原则"，不是"总结要点"。秩是严格的：这个领域里，真正独立的生成器有几个？用它们能不能反向生成全部现象？能，才算找到了秩。

## 前置

读取 `~/Documents/soul-lijigang/soul.md`，内化"理解即降秩"的完整回路：

> 从现象出发（不从定义出发）→ 维度（外赋）→ 秩（内禀）→ 结构（耦合拓扑）→ 反向生成验证

## 输入

用户提供一个**领域**（一个学科、一门手艺、一个行业、一种能力、一个系统）。

## 执行

### 1. 铺开现象

列出这个领域中 10-15 个典型现象。不求全，求代表性——要能覆盖这个领域的主要面向。

这些是"待解释项"。你的秩必须能生成它们，一个都不能漏。

### 2. 提取维度

从这些现象中提取描述变量。问：要刻画这些现象，你需要哪些独立的"轴"？

逐一列出。每个维度用一句人话描述，不用术语。

维度是外赋的——你选的坐标系。同一个领域，选不同的维度会得到不同的描述，但秩不会变。

### 3. 发现约束

这一步是降秩的核心。逐对检查维度之间的关系：

- 这两个变量真的独立吗？还是被某条规则绑在一起？
- 知道了 A，能不能推出 B？能 → 它们之间有约束

每发现一条约束：
- 用一句话写出约束内容
- 标注它绑住了哪些变量
- 维度数 -1

持续到找不到新约束为止。要狠——觉得"好像有关系"不算，要能说清楚关系是什么。

### 4. 到达秩

秩 = 维度数 - 约束数

列出剩下的独立生成器。每个生成器：
- 一句话描述（人话，不用术语）
- 它管什么——这个生成器覆盖了哪些现象

### 5. 生成验证

用这几个生成器，逐一回检第 1 步的每个现象：

- ✓ 能生成：写出用了哪些生成器、怎么组合
- ✗ 不能生成：秩不够，回第 3 步找漏掉的独立变量

**全部通过才进入下一步。**生成不了就老实回去补，不要硬凑。

### 6. 画接线图

秩找到了，但秩只是数量。这些生成器之间怎么连？

用 ASCII 画出拓扑：
- 谁驱动谁（因果箭头 →）
- 谁约束谁（边界线 --|）
- 有没有反馈环（⟳ 正反馈 / ⟲ 负反馈）

这一步把"秩"升级为"结构"。

## 输出

1. 获取时间戳：`date +%Y%m%dT%H%M%S` 和 `date "+%Y-%m-%d %a %H:%M"`
2. 写入 org-mode 文件：

```org
#+title:      {领域}的秩
#+date:       [{YYYY-MM-DD Day HH:MM}]
#+filetags:   :rank:
#+identifier: {YYYYMMDDTHHMMSS}

* 领域：{领域名}

* 现象清单

{10-15 个现象，编号列出}

* 降秩过程

** 维度（{N} 个）

{编号列出每个维度，一句话描述}

** 约束（{M} 条）

{每条约束：内容 + 绑住了哪些变量}

** 秩 = {N - M}

{列出每个独立生成器，一句话描述 + 它管什么}

* 生成验证

| 现象 | 能否生成 | 用了哪些生成器 |
|------+----------+----------------|
| ...  | ✓/✗      | ...            |

* 接线图

{ASCII 拓扑图}

* 一句话

{用一句话压缩这个领域的全部——秩恰好等于维度的那个表示}
```

3. 文件路径：`~/Documents/notes/{时间戳}--{领域}的秩__rank.org`
4. 报告路径，`open` 打开文件

## 质量红线

- **秩不是总结**：总结是"这个领域有哪些重要方面"。秩是"这个领域有几个真正独立的生成器"。前者随便列，后者有严格的生成验证
- **约束要硬**："好像有关系"不算约束。能说清楚"知道 A 就能推出 B"才算
- **生成测试不能跳过**：这是降秩的验证环节。跳过它，秩就只是你的感觉，不是领域的真相
- **秩宜少不宜多**：如果你的秩超过 5，大概率是约束没找够。多数领域的秩在 2-5 之间

## 唤醒指令

```
/ljg-rank {领域}
降秩：{领域}
{领域}的秩是什么？
找秩：{领域}
```
